{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/exit-intent.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "window.Webflow ||= [];\nwindow.Webflow.push(() => {\n  // Get elements\n  const exitIntent = document.getElementById('fs-modal-exit');\n  if (!exitIntent) return; // Exit if popup element not found\n\n  const pageUrl = window.location.pathname;\n  const closeButtons = document.querySelectorAll('[aria-controls=fs-modal-exit]');\n\n  // Read settings from data attributes\n  const showOnce = exitIntent.getAttribute('element-setting-once') === 'true';\n  const exitDelay = parseInt(exitIntent.getAttribute('element-setting-delay')) || 3000;\n  const autoDisplay = exitIntent.getAttribute('element-setting-auto-display');\n  const autoDisplayDelay = autoDisplay ? parseInt(autoDisplay) : null;\n\n  // Set storage key only if showOnce is true\n  const storageKey = showOnce ? `exitPopupShown_${pageUrl}` : null;\n\n  let entryTime = Date.now();\n  let hasShownPopup = false;\n\n  // Initial setup\n  exitIntent.style.display = 'none';\n  exitIntent.style.opacity = '0';\n\n  // Functions\n  function getFormId() {\n    const formIdElement = exitIntent.querySelector('[modal-form-id]');\n    return formIdElement ? formIdElement.getAttribute('modal-form-id') : null;\n  }\n\n  function getModalName() {\n    const modalName = exitIntent.querySelector('[fs-modal-name]');\n    return modalName ? modalName.getAttribute('fs-modal-name') : null;\n  }\n\n  function showPopup() {\n    // Check if we should prevent showing based on storage (only if showOnce is true)\n    if (hasShownPopup || (showOnce && sessionStorage.getItem(storageKey))) return;\n\n    exitIntent.style.display = 'flex';\n    setTimeout(() => {\n      exitIntent.style.opacity = '1';\n    }, 10);\n\n    const formId = getFormId();\n    const modalName = getModalName();\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n      event: 'exit_intent_shown',\n      label: modalName,\n      form_id: formId,\n    });\n\n    hasShownPopup = true;\n\n    // Only store in sessionStorage if showOnce is true\n    if (showOnce && storageKey) {\n      sessionStorage.setItem(storageKey, 'true');\n    }\n  }\n\n  function closePopup() {\n    exitIntent.style.opacity = '0';\n    setTimeout(() => {\n      exitIntent.style.display = 'none';\n    }, 300);\n\n    const formId = getFormId();\n    const modalName = getModalName();\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n      event: 'exit_intent_closed',\n      label: modalName,\n      form_id: formId,\n    });\n  }\n\n  // Event listeners\n\n  // Auto-display popup after specified delay (if setting exists)\n  if (autoDisplayDelay && autoDisplayDelay > 0) {\n    setTimeout(showPopup, autoDisplayDelay);\n  }\n\n  // Exit intent detection\n  document.addEventListener('mouseout', (e) => {\n    if (e.clientY < 0 && Date.now() - entryTime > exitDelay) {\n      showPopup();\n    }\n  });\n\n  // Close button listeners\n  closeButtons.forEach((elem) => {\n    elem.addEventListener('click', closePopup);\n  });\n});\n"],
  "mappings": ";;AAAA,MAAI,YAAY,GAAG,uBAAY,UAAU,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACA7F,SAAO,YAAY,CAAC;AACpB,SAAO,QAAQ,KAAK,MAAM;AAExB,UAAM,aAAa,SAAS,eAAe,eAAe;AAC1D,QAAI,CAAC;AAAY;AAEjB,UAAM,UAAU,OAAO,SAAS;AAChC,UAAM,eAAe,SAAS,iBAAiB,+BAA+B;AAG9E,UAAM,WAAW,WAAW,aAAa,sBAAsB,MAAM;AACrE,UAAM,YAAY,SAAS,WAAW,aAAa,uBAAuB,CAAC,KAAK;AAChF,UAAM,cAAc,WAAW,aAAa,8BAA8B;AAC1E,UAAM,mBAAmB,cAAc,SAAS,WAAW,IAAI;AAG/D,UAAM,aAAa,WAAW,kBAAkB,OAAO,KAAK;AAE5D,QAAI,YAAY,KAAK,IAAI;AACzB,QAAI,gBAAgB;AAGpB,eAAW,MAAM,UAAU;AAC3B,eAAW,MAAM,UAAU;AAG3B,aAAS,YAAY;AACnB,YAAM,gBAAgB,WAAW,cAAc,iBAAiB;AAChE,aAAO,gBAAgB,cAAc,aAAa,eAAe,IAAI;AAAA,IACvE;AAEA,aAAS,eAAe;AACtB,YAAM,YAAY,WAAW,cAAc,iBAAiB;AAC5D,aAAO,YAAY,UAAU,aAAa,eAAe,IAAI;AAAA,IAC/D;AAEA,aAAS,YAAY;AAEnB,UAAI,iBAAkB,YAAY,eAAe,QAAQ,UAAU;AAAI;AAEvE,iBAAW,MAAM,UAAU;AAC3B,iBAAW,MAAM;AACf,mBAAW,MAAM,UAAU;AAAA,MAC7B,GAAG,EAAE;AAEL,YAAM,SAAS,UAAU;AACzB,YAAM,YAAY,aAAa;AAC/B,aAAO,YAAY,OAAO,aAAa,CAAC;AACxC,aAAO,UAAU,KAAK;AAAA,QACpB,OAAO;AAAA,QACP,OAAO;AAAA,QACP,SAAS;AAAA,MACX,CAAC;AAED,sBAAgB;AAGhB,UAAI,YAAY,YAAY;AAC1B,uBAAe,QAAQ,YAAY,MAAM;AAAA,MAC3C;AAAA,IACF;AAEA,aAAS,aAAa;AACpB,iBAAW,MAAM,UAAU;AAC3B,iBAAW,MAAM;AACf,mBAAW,MAAM,UAAU;AAAA,MAC7B,GAAG,GAAG;AAEN,YAAM,SAAS,UAAU;AACzB,YAAM,YAAY,aAAa;AAC/B,aAAO,YAAY,OAAO,aAAa,CAAC;AACxC,aAAO,UAAU,KAAK;AAAA,QACpB,OAAO;AAAA,QACP,OAAO;AAAA,QACP,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAKA,QAAI,oBAAoB,mBAAmB,GAAG;AAC5C,iBAAW,WAAW,gBAAgB;AAAA,IACxC;AAGA,aAAS,iBAAiB,YAAY,CAAC,MAAM;AAC3C,UAAI,EAAE,UAAU,KAAK,KAAK,IAAI,IAAI,YAAY,WAAW;AACvD,kBAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAGD,iBAAa,QAAQ,CAAC,SAAS;AAC7B,WAAK,iBAAiB,SAAS,UAAU;AAAA,IAC3C,CAAC;AAAA,EACH,CAAC;",
  "names": []
}
