(()=>{window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{gsap.matchMedia().add("(min-width: 911px)",()=>{let a=document.querySelector(".platform_component");if(a){let n={ITEM_DURATION:8e3,DROPDOWN_DURATION:.3,IMAGE_FADE_DURATION:.4,PROGRESS_EASE:"none",ANIMATION_EASE:"power2.inOut",CLICK_RESUME_DELAY:1e3,HOVER_RESUME_DELAY:100,SCROLL_START:"top 80%"},p=Array.from(a.querySelectorAll('[data-element="platform-item"]')),A=Array.from(a.querySelectorAll('[data-element="platform-progress-line"]')),u=Array.from(a.querySelectorAll('[data-element="platform-dropdown"]')),c=Array.from(a.querySelector(".platform_col-images").querySelectorAll('[data-element="platform-image"]')),e={currentIndex:0,isAutoPlaying:!1,isUserInteracting:!1,isAnimating:!1,pausedTime:0,startTime:null},t={autoPlay:null,progress:null,resume:null},r=()=>{Object.values(t).forEach(s=>{s&&clearTimeout(s)}),t.progress&&t.progress.kill()},i=()=>gsap.set(A,{scaleY:0}),g=()=>{e.startTime&&e.isAutoPlaying&&(e.pausedTime+=Date.now()-e.startTime,e.pausedTime=Math.min(e.pausedTime,n.ITEM_DURATION))},f=()=>{gsap.set(A,{scaleY:0,transformOrigin:"top center",height:"100%"}),gsap.set(u.slice(1),{height:0,opacity:0,overflow:"hidden"}),gsap.set(c.slice(1),{opacity:0}),gsap.set([c[0],u[0]],{opacity:1}),gsap.set(u[0],{height:"auto"})},d=(s,l=!0)=>{if(s===e.currentIndex||e.isAnimating)return;e.isAnimating=!0;let y=e.currentIndex;e.currentIndex=s,i(),l&&(e.pausedTime=0),gsap.timeline({onComplete:()=>{e.isAnimating=!1}}).to(u,{height:0,opacity:0,duration:n.DROPDOWN_DURATION,ease:n.ANIMATION_EASE}).to(c[y],{opacity:0,duration:n.IMAGE_FADE_DURATION,ease:n.ANIMATION_EASE},"-=0.2").to(c[s],{opacity:1,duration:n.IMAGE_FADE_DURATION,ease:n.ANIMATION_EASE},"-=0.4").to(u[s],{height:"auto",opacity:1,duration:n.DROPDOWN_DURATION+.2,ease:"power2.out"},"-=0.2")},o=()=>{if(!e.isAutoPlaying||e.isUserInteracting)return;r();let s=n.ITEM_DURATION-e.pausedTime;if(s<=0){let l=(e.currentIndex+1)%p.length;e.pausedTime=0,d(l,!0),o();return}e.startTime=Date.now(),t.progress=gsap.to(A[e.currentIndex],{scaleY:1,duration:s/1e3,ease:n.PROGRESS_EASE}),t.autoPlay=setTimeout(()=>{if(e.isAutoPlaying&&!e.isUserInteracting){let l=(e.currentIndex+1)%p.length;e.pausedTime=0,d(l,!0),o()}},s)},m=()=>{r(),g(),t.progress&&t.progress.pause()},I=(s=n.HOVER_RESUME_DELAY)=>{t.resume&&clearTimeout(t.resume),t.resume=setTimeout(()=>{e.isUserInteracting||(e.isAutoPlaying=!0,o())},s)},E=s=>l=>{l.preventDefault(),!(e.isAnimating||s===e.currentIndex)&&(e.isUserInteracting=!0,e.isAutoPlaying=!1,m(),d(s,!0),setTimeout(()=>{document.querySelector('[data-element="platform-item"]:hover')||(e.isUserInteracting=!1,e.isAutoPlaying=!0,o())},n.CLICK_RESUME_DELAY))},T=()=>{t.resume&&clearTimeout(t.resume),e.isUserInteracting=!0,m()},h=()=>{e.isUserInteracting=!1,e.isAutoPlaying||I()};f(),p.forEach((s,l)=>{s.addEventListener("click",E(l)),s.addEventListener("mouseenter",T),s.addEventListener("mouseleave",h),s.style.cursor="pointer"}),ScrollTrigger.create({trigger:a,start:n.SCROLL_START,onEnter:()=>{e.isAutoPlaying=!0,e.isUserInteracting=!1,e.pausedTime=0,o()},onLeave:()=>{e.isAutoPlaying=!1,m()},onEnterBack:()=>{e.isUserInteracting||(e.isAutoPlaying=!0,o())},onLeaveBack:()=>{e.isAutoPlaying=!1,m()}})}}),document.querySelectorAll("[data-element=counter]").forEach(a=>{let n=a.textContent.trim(),p={value:0},A=e=>{let t=e.match(/^[^\d.-]*/),r=t?t[0]:"",i=e.slice(r.length),g=1,f="";i.endsWith("K")||i.endsWith("k")?(g=1e3,f=i.slice(-1),i=i.slice(0,-1)):(i.endsWith("M")||i.endsWith("m"))&&(g=1e6,f=i.slice(-1),i=i.slice(0,-1));let d=i.match(/[^\d.-]*$/),o=d?d[0]:"",m=i.slice(0,i.length-o.length);return{value:parseFloat(m)*g,prefix:r,suffix:o,unit:f,multiplier:g,hasDecimal:m.includes(".")}},u=(e,t)=>{let r=e;return t.unit?(r=e/t.multiplier,t.hasDecimal?r=r.toFixed(1):r=Math.round(r),r+=t.unit):r=Math.round(e),t.prefix+r+t.suffix},c=A(n);a.textContent=u(0,c),gsap.to(p,{value:c.value,duration:2,ease:"power2.out",snap:{value:1},onUpdate:function(){a.textContent=u(p.value,c)},scrollTrigger:{trigger:a,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse",once:!0}})})});})();
